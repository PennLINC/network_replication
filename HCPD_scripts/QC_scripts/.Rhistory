library(dplyr)
library(tidyverse)
library(magrittr)
library(reshape)
library(reshape2)
library(MASS)
library(stargazer)
library(cifti)
list.files("/cbica/projects/network_replication/input/HCPD/hcpd_xcp")
hcpd_xcp <- list.files("/cbica/projects/network_replication/input/HCPD/hcpd_xcp")
hcpd_demog <- read.csv("/cbica/projects/network_replication/input/HCPD/hcpd_demographics.csv")
subjects <- paste0("sub-", str_extract(hcpd_demog$src_subject_id, "[0-9]+"))
subjects
setdiff(hcpd_xcp, subjects)
setdiff(subjects, hcpd_xcp)
setdiff(subjects, hcpd_xcp)
hcpd_xcp
which(subjects=="sub-1387055")
setdiff(subjects, hcpd_xcp)
hcpd_xcp
which(hcpd_xcp=="sub-1387055")
hcpd_xcp
hcpd_xcp <- list.files("/cbica/projects/network_replication/input/HCPD/hcpd_xcp")
which(hcpd_xcp=="sub-1387055")
subjects <- paste0("sub-", str_extract(hcpd_demog$src_subject_id, "[0-9]+"))
setdiff(subjects, hcpd_xcp)
setdiff(hcpd_xcp, subjects)
subject_list <- list()
ptseries_filenames <- list()
task_list <- list()
direction_list <- list()
atlas_list <- list()
for (i in c(1:nrow(hcpd_demog))) {
subject <- paste0("sub-", str_extract(hcpd_demog$src_subject_id[i], "[0-9]+"))
files <- list.files(paste0("/cbica/projects/network_replication/input/HCPD/hcpd_xcp/", subject))
for (j in c(1:length(files))){
task <- gsub("task-", "", str_extract(files[j], "task-[a-z]+"))
direction <- gsub("dir-", "", str_extract(files[j], "dir-[A-Z]{2}"))
atlas <- gsub("atlas-", "", str_extract(files[j], "atlas-[a-zA-Z0-9]+"))
task_list <- append(task, task_list)
direction_list <- append(direction, direction_list)
atlas_list <- append(atlas, atlas_list)
subject_list <- append(subject, subject_list)
ptseries_filenames <- append(files[j], ptseries_filenames)
print(paste(task, direction, atlas))
}
print(paste(subject, "done"))
}
setdiff(subjects, hcpd_xcp)
subjects_variation <- setdiff(subjects, hcpd_xcp)
which(subjects_variation == "sub-2239247")
length(hcpd_xcp)
hcpd_xcp <- list.files("/cbica/projects/network_replication/input/HCPD/hcpd_xcp")
length(hcpd_xcp)
# checking on progress of qsub-how many subjects are done
hcpd_xcp <- list.files("/cbica/projects/network_replication/input/HCPD/hcpd_xcp")
length(hcpd_xcp)
hcpd_xcp <- list.files("/cbica/projects/network_replication/input/HCPD/hcpd_xcp")
length(hcpd_xcp)
